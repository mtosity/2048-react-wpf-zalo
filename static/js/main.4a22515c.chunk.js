(this["webpackJsonpreact-2048"]=this["webpackJsonpreact-2048"]||[]).push([[0],{21:function(e,t,i){e.exports=i(36)},26:function(e,t,i){},32:function(e,t,i){},33:function(e,t,i){},34:function(e,t,i){},35:function(e,t,i){},36:function(e,t,i){"use strict";i.r(t);var o,n=i(0),r=i.n(n),a=i(11),c=i.n(a),l=(i(26),i(4)),s=i(5),f=i(12),u={gameOver:!1,boxes:[[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}],[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}],[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}],[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}]]},v=i(7),m=function(e){for(var t=Object(v.a)(e),i=[],o=0;o<4;o++){var n=Math.floor(4*Math.random());i.push(n)}return i[0]===i[2]&&i[1]===i[3]&&(i[0]=(i[0]+1)%4),t[i[0]][i[1]]=Object(s.a)({},t[i[0]][i[1]],{title:2,com_ani:!0}),t[i[2]][i[3]]=Object(s.a)({},t[i[2]][i[3]],{title:2,com_ani:!0}),t};!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down"}(o||(o={}));var h,p=function(e,t){var i=Object(v.a)(e),n=!1;if(t===o.Up)for(var r=0;r<4;r++){for(var a=[],c=[],l=0,s=0;s<4;s++)if(0!==e[s][r].title)0===l?l=e[s][r].title:e[s][r].title===l?(!1===n&&(n=!0),a.push(2*l),c.push(a.length-1),l=0):(a.push(l),l=e[s][r].title);else if(!1===n)for(var f=s;f<4;f++)0!==e[f][r].title&&(n=!0);0!==l&&a.push(l);for(var u=a.length,m=0;m<u;m++)i[m][r].title=a[m];for(var h=u;h<4;h++)i[h][r].title=0;for(var p=c.length,d=0;d<p;d++)i[c[d]][r].com_ani=!0}if(t===o.Down)for(var E=0;E<4;E++){for(var g=[],w=[],O=0,R=3;R>=0;R--)if(0!==e[R][E].title)0===O?O=e[R][E].title:e[R][E].title===O?(!1===n&&(n=!0),g.push(2*O),w.push(g.length-1),O=0):(g.push(O),O=e[R][E].title);else if(!1===n)for(var C=R;C>=0;C--)0!==e[C][E].title&&(n=!0);0!==O&&g.push(O);for(var j=g.length,A=0;A<j;A++)i[3-A][E].title=g[A];for(var k=0;k<4-j;k++)i[k][E].title=0;for(var M=w.length,S=0;S<M;S++)i[3-w[S]][E].com_ani=!0}if(t===o.Left)for(var _=0;_<4;_++){for(var x=[],D=[],y=0,z=0;z<4;z++)if(0!==e[_][z].title)0===y?y=e[_][z].title:e[_][z].title===y?(!1===n&&(n=!0),x.push(2*y),D.push(x.length-1),y=0):(x.push(y),y=e[_][z].title);else if(!1===n)for(var L=z;L<4;L++)0!==e[_][L].title&&(n=!0);0!==y&&x.push(y);for(var U=x.length,N=0;N<U;N++)i[_][N].title=x[N];for(var F=U;F<4;F++)i[_][F].title=0;for(var J=D.length,B=0;B<J;B++)i[_][D[B]].com_ani=!0}if(t===o.Right)for(var G=0;G<4;G++){for(var I=[],V=[],T=0,W=3;W>=0;W--)if(0!==e[G][W].title)0===T?T=e[G][W].title:e[G][W].title===T?(!1===n&&(n=!0),I.push(2*T),V.push(I.length-1),T=0):(I.push(T),T=e[G][W].title);else if(!1===n)for(var $=W;$>=0;$--)0!==e[G][$].title&&(n=!0);0!==T&&I.push(T);for(var q=I.length,H=0;H<q;H++)i[G][3-H].title=I[H];for(var K=3-q;K>=0;K--)i[G][K].title=0;for(var P=V.length,Q=0;Q<P;Q++)i[G][3-V[Q]].com_ani=!0}return n?b(i):i},b=function(e){for(var t=[],i=0;i<4;i++)for(var o=0;o<4;o++)0===e[i][o].title&&t.push({i:i,j:o});var n=t.length;if(n>0){var r=t[Math.floor(Math.random()*n)];e[r.i][r.j].title=2,e[r.i][r.j].com_ani=!0}return e},d=function(e){var t=Object(v.a)(e);return e.forEach((function(e){e.forEach((function(e){e.com_ani=!1}))})),t};!function(e){e[e.MoveUp=0]="MoveUp",e[e.MoveDown=1]="MoveDown",e[e.MoveLeft=2]="MoveLeft",e[e.MoveRight=3]="MoveRight",e[e.InitRandom=4]="InitRandom",e[e.ResetComAni=5]="ResetComAni",e[e.ResetAll=6]="ResetAll"}(h||(h={}));var E=Object(f.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JSON.parse(JSON.stringify(u)),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.InitRandom:return Object(s.a)({},e,{boxes:m(e.boxes)});case h.MoveUp:return Object(s.a)({},e,{boxes:p(e.boxes,o.Up)});case h.MoveDown:return Object(s.a)({},e,{boxes:p(e.boxes,o.Down)});case h.MoveLeft:return Object(s.a)({},e,{boxes:p(e.boxes,o.Left)});case h.MoveRight:return Object(s.a)({},e,{boxes:p(e.boxes,o.Right)});case h.ResetComAni:return Object(s.a)({},e,{boxes:d(e.boxes)});case h.ResetAll:return JSON.parse(JSON.stringify(u));default:return e}})),g=function e(t){var i=this;Object(l.a)(this,e),this.dispatch=void 0,this.initRandom=function(){return i.dispatch({type:h.InitRandom})},this.moveUp=function(){return i.dispatch({type:h.MoveUp})},this.moveDown=function(){return i.dispatch({type:h.MoveDown})},this.moveLeft=function(){return i.dispatch({type:h.MoveLeft})},this.moveRight=function(){return i.dispatch({type:h.MoveRight})},this.resetComAni=function(){return i.dispatch({type:h.ResetComAni})},this.resetAll=function(){return i.dispatch({type:h.ResetAll})},this.dispatch=t},w=i(8),O=(i(32),i(20));i(33);var R=i(16),C=function(e){var t=e.box,i=t.com_ani,o=function(e){var t={title:"",color:"",titleColor:"#F9F6F2",titleSize:"1vw"};switch(t.title=0===e?"":e.toString(),e){case 0:t.color="#CCC0B4";break;case 2:t.color="#EEE4DA",t.titleColor="#776E65",t.titleSize="10vmin";break;case 4:t.color="#EDE0C8",t.titleColor="#776E65",t.titleSize="10vmin";break;case 8:t.color="#F2B179",t.titleSize="10vmin";break;case 16:t.color="#F59563",t.titleSize="9vmin";break;case 32:t.color="#F67C5F",t.titleSize="9vmin";break;case 64:t.color="#F65E3B",t.titleSize="9vmin";break;case 128:t.color="#EDCF72",t.titleSize="7vmin";break;case 256:t.color="#EDCC61",t.titleSize="7vmin";break;case 512:t.color="#EDC850",t.titleSize="7vmin";break;case 1024:t.color="#EDC53F",t.titleSize="5vmin";break;case 2048:t.color="#EDC22E",t.titleSize="5vmin";break;default:t.color="#000",t.titleSize="4vmin"}return t}(t.title),a=o.title,c=o.color,l=o.titleColor,s=o.titleSize,f=Object(n.useState)(!0),u=Object(O.a)(f,2),v=u[0],m=u[1],h=Object(R.b)({from:{x:1},x:v?1:0,config:{duration:170}}).x;return Object(n.useEffect)((function(){!0===i&&m(!v)}),[i,v]),r.a.createElement(R.a.div,{className:"box",style:Object.assign({backgroundColor:c},{transform:h.interpolate({range:[0,.5,1],output:[1,1.23,1]}).interpolate((function(e){return"scale(".concat(e,")")}))})},r.a.createElement("p",{style:{color:l,fontSize:s},className:"title"},a))},j=(i(34),function(e){var t=e.boxes;return r.a.createElement("div",{className:"game-board"},t.map((function(e,t){return r.a.createElement("div",{className:"row",key:t},e.map((function(e,i){return r.a.createElement(C,{box:e,key:4*t+i})})))})))}),A=i(19);function k(e){for(var t=e.length,i=e.length,o=0;o<t;o++)for(var n=0;n<t;n++)if(0===e[o][n].title)return!1;for(var r=0;r<t;r++)for(var a=1;a<i;a++)if(e[r][a].title===e[r][a-1].title)return!1;for(var c=0;c<t;c++)for(var l=1;l<i;l++)if(e[l][c].title===e[l-1][c].title)return!1;return!0}var M=i(10),S=i.n(M),_=function(){var e=Object(w.c)((function(e){return e.boxes})),t=Object(w.b)(),i=new g(t);Object(n.useEffect)((function(){i.initRandom(),i.resetComAni();var e=function(e){var t=e.key,o=!1;"ArrowUp"===t&&(i.moveUp(),o=!0),"ArrowDown"===t&&(i.moveDown(),o=!0),"ArrowLeft"===t&&(i.moveLeft(),o=!0),"ArrowRight"===t&&(i.moveRight(),o=!0),o&&i.resetComAni()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),Object(n.useEffect)((function(){k(e)&&S.a.fire({icon:"error",title:"GAME OVER"})}),[e]);var o=Object(A.a)({onSwipedLeft:function(t){i.moveLeft(),i.resetComAni(),k(e)&&S.a.fire({icon:"error",title:"GAME OVER"})},onSwipedUp:function(t){i.moveUp(),i.resetComAni(),k(e)&&S.a.fire({icon:"error",title:"GAME OVER"})},onSwipedDown:function(t){i.moveDown(),i.resetComAni(),k(e)&&S.a.fire({icon:"error",title:"GAME OVER"})},onSwipedRight:function(t){i.moveRight(),i.resetComAni(),k(e)&&S.a.fire({icon:"error",title:"GAME OVER"})},preventDefaultTouchmoveEvent:!0,trackMouse:!0,trackTouch:!0});return r.a.createElement("div",Object.assign({className:"container"},o),r.a.createElement(j,{boxes:e}))},x=(i(35),function(){var e=Object(w.b)(),t=new g(e);return r.a.createElement("div",{className:"header"},r.a.createElement("input",{type:"button",className:"button",onClick:function(){t.resetAll(),t.initRandom(),t.resetComAni()},value:"RESET"}))}),D=function(){return r.a.createElement(w.a,{store:E},r.a.createElement("div",{style:{backgroundColor:"#EEE4D9",width:"100vw",height:"100vh"}},r.a.createElement(_,null),r.a.createElement(x,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.4a22515c.chunk.js.map